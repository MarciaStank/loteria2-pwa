<h2>Cadastro de Usuário</h2>

<form (ngSubmit)="onSubmit()" #cadastroForm="ngForm">
  <div class="form-group">
    <label for="nome">Nome:</label>
    <input
      type="text"
      id="nome"
      name="nome"
      [(ngModel)]="user.nome"
      #nome="ngModel"
      required
      pattern="^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ ]+$"
      class="input-field" 
      value="{{ user.nome | uppercase }}"
    />
    <div *ngIf="nome.invalid && (nome.dirty || nome.touched)" class="error">
      <div *ngIf="nome.hasError('required')">Digite seu nome completo.</div>
      <div *ngIf="nome.hasError('pattern')">Digite um nome válido sem números.</div>
    </div>
  </div>

  <div class="form-group">
    <br>
    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      name="email"
      [(ngModel)]="user.email"
      #email="ngModel"
      required
      pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"
      class="input-field"
    />
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="error">
      <div *ngIf="email.hasError('required')">Digite o seu email.</div>
      <div *ngIf="email.hasError('pattern')">Digite um email válido.</div>
    </div>
  </div>
  <br>
  <br>
  <button type="submit" [disabled]="!cadastroForm.form.valid">Enviar</button>
  <br>
  <br> 
  <br>

 
  <app-lista-usuarios [usuarios]="usuariosCadastrados"></app-lista-usuarios>
  <br>

  
    <!-- Botão para voltar à página inicial -->
    <button class="back-button" [routerLink]="['/']">Voltar à Página Inicial</button>

</form>